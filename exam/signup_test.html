<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원 가입 폼</title>
    <!-- 외부 css 파일 불러오기(현재 로컬에 있는 css 파일임.) -->
    <link rel="stylesheet" href="./basic.css">
    <!-- 부트스트랩 준비물 1 css 파일 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
</head>

<body>

    <div class="container">
        <form action="#" method="POST">
            <!-- 프로필 사진 미리보기 형식으로 위로 이동했음 -->
            <!-- <div class="preview" id="imagePreview">
         단순, 태그만 넣어보고 확인 해보기.
          <input type="file" id="profile_image" name="profile_image" accept="image/*" onchange="previewImage(event)"> 
      </div> -->

            <!-- 두번째 방법으로 프로필 이미지 뷰 클릭시, 파일 선택 연결.  -->
            <!-- <div class="form-group">
        <div class="preview" id="imagePreview" onclick="document.getElementById('profile_image').click()">
          <img id="previewImage" src="user_profile.png" alt="프로필 이미지">
        </div>
        <input type="file" id="profile_image" name="profile_image" class="file-input" accept="image/*"
          onchange="previewImage(event)">
      </div> -->
            <div class="form-group">
                <div class="preview" id="imagePreview" onclick="document.getElementById('profile_image').click()">
                    <img id="preview_userImage" src="profile_icon.png" alt="프로필 이미지">
                </div>
                <input type="file" id="profile_image" name="profile_image" class="file-input" accept="image/*"
                    onchange="previewImage(event)">
            </div>
            <!-- <input type="button" value="test" onclick="hideProfileImg()"> -->

            <!-- 첫번째 방법, 사진을 선택하는 버튼을 따로 해서 구현방법 -->
            <!-- <div class="form-group">
        <label for="profile_image">프로필 이미지:</label>
        <input type="file" id="profile_image" name="profile_image" accept="image/*" onchange="previewImage(event)">
        <label for="profile_image" class="file-label">파일 선택</label>
      </div> -->

            <!-- 두번째 방법, 프로필 이미지를 클릭시 이미지를 선택 하게끔 하기.  -->
            <!-- 1. 프리뷰 디브 태그 안에, 먼저 인풋 태그를 넣어서 1차 시도를 했고, 
        결과, 프리뷰 요소에 파일 선택이라는 버튼이 보였음. 보기는 안좋음. 

        2. 프리뷰를 클릭하는데, 파일 선택을 안보이게하고, 프리뷰 디브 태그를 
        클릭시 동작하게끔 샘플코드 

        <div class="form-group">
          <div class="preview" id="imagePreview" onclick="document.getElementById('profile_image').click()"></div>
          <input type="file" id="profile_image" name="profile_image" accept="image/*" onchange="previewImage(event)">
        </div> -->

            <!-- 세번째 샘플코드, -->
            <!-- <div class="form-group">
          <div class="preview" id="imagePreview" onclick="document.getElementById('profile_image').click()">
            <img id="previewImage" src="default-profile-image.jpg" alt="프로필 이미지">
          </div>
          <input type="file" id="profile_image" name="profile_image" class="file-input" accept="image/*" onchange="previewImage(event)">
        </div> -->


            <div class="form-group">
                <label for="email">이메일:</label>
                <input type="email" id="email" name="email" required>
            </div>
            <div class="form-group">
                <label for="password">패스워드:</label>
                <input type="password" id="password" name="password" required>
            </div>
            <div class="form-group">
                <label for="confirm_password">패스워드 확인용:</label>
                <input type="password" id="confirm_password" name="confirm_password" required>
            </div>

            <!-- 가입하기 버튼을 , 부트스트랩을 이용해서, 파란색 버튼으로 변경. -->
            <!-- class="btn btn-primary" 추가 해보니 버튼이 부트스트랩 버튼으로 변경이 되더라 -->
            <div class="form-group">
                <button class="btn btn-primary" type="submit">가입하기</button>
            </div>
        </form>
    </div>

    <script>
        // 선택된 프로필 이미지를 로드하는 코드, 사진을 넣는 방법
        function previewImage(event) {
            var reader = new FileReader();
            reader.onload = function () {
                var preview = document.getElementById('imagePreview');
                preview.style.backgroundImage = 'url(' + reader.result + ')';
            }
            // 추가로 , 기존 이미지를 display none 으로 변경하는 코드 추가하기. 
            // var preview_image = document.getElementById('previewImage');
            //   preview_image.style.display = 'none';


            reader.readAsDataURL(event.target.files[0]);
            hideProfileImg()


        }

        function hideProfileImg() {
            // 기본 이미지 숨기기
            var defaultImage = document.getElementById('preview_userImage');
            if (defaultImage) {
                defaultImage.style.display = 'none';
            }
        }
    </script>

    <!-- 부트스트랩 준비물 2 js 파일 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>
</body>

</html>